(this["webpackJsonpuse-dialog-example"]=this["webpackJsonpuse-dialog-example"]||[]).push([[0],{252:function(e,t,n){"use strict";n.r(t);n(37);var c=n(0),o=n(17),l=n.n(o),a=n(254),s=function(e){var t=e.message,n=e.type,o=e.defaultText,l=e.onSubmit,a=e.onCancel,s=e.open;return Object(c.useEffect)((function(){if(t&&s)switch(n){case"alert":window.alert(t),"function"===typeof l&&l(!0);break;case"confirm":var e=window.confirm(t);"function"===typeof l&&e&&l(e),"function"!==typeof a||e||a();break;case"prompt":var c=window.prompt(t,o);"function"===typeof l&&c&&l(c),"function"!==typeof a||c||a()}}),[t,n,o,l,a]),null},r=Object(c.createContext)({}),i=function(e){var t=e.children,n=e.dialogComponent,o=e.submitLabel,l=void 0===o?"OK":o,a=e.cancelLabel,i=void 0===a?"Cancel":a,u=Object(c.useState)(),b=u[0],p=u[1],f=Object(c.useRef)(),d=function(e){return p(e),new Promise((function(e,t){f.current={resolve:e,reject:t}}))},j=n||s;return Object(c.createElement)(r.Provider,{value:{alert:function(e){return d({message:e,type:"alert",open:!0,submitLabel:l})},confirm:function(e){return d({type:"confirm",message:e,submitLabel:l,cancelLabel:i,open:!0})},dialog:d,prompt:function(e,t){return d({type:"prompt",message:e,defaultText:t,submitLabel:l,cancelLabel:i,open:!0})}}},t,Object(c.createElement)(j,Object.assign({open:!!b,onSubmit:function(e){f.current&&f.current.resolve(e),p(void 0)},onCancel:function(){f.current&&f.current.reject(),p(void 0)}},b)))},u=n(6),b=n(1),p=function(){var e=Object(c.useContext)(r),t=e.alert,n=e.confirm,o=e.prompt,l=Object(c.useState)(),a=Object(u.a)(l,2),s=a[0],i=a[1],p=Object(c.useCallback)((function(e){e.preventDefault(),t("Alert clicked!").then(i).catch((function(){return i(!1)}))}),[t]),f=Object(c.useCallback)((function(e){e.preventDefault(),n("Confirm clicked!").then(i).catch((function(){return i(!1)}))}),[n]),d=Object(c.useCallback)((function(e){e.preventDefault(),o("Prompt clicked!","This is default value").then(i).catch((function(){return i(!1)}))}),[o]);return Object(b.jsxs)("div",{children:[Object(b.jsxs)("p",{children:[Object(b.jsx)("button",{onClick:p,children:"Alert"}),Object(b.jsx)("button",{onClick:f,children:"Confirm"}),Object(b.jsx)("button",{onClick:d,children:"Prompt"})]}),Object(b.jsxs)("p",{children:["\xa0",JSON.stringify(s)]})]})},f=n(18),d=n.n(f),j=function(e){var t=e.message,n=e.defaultText,o=e.type,l=e.title,a=e.open,s=e.onSubmit,r=e.onCancel,i=e.submitLabel,p=e.cancelLabel;d.a.setAppElement("#root");var f=Object(c.useState)(a),j=Object(u.a)(f,2),m=j[0],O=j[1],h=Object(c.useState)(n),C=Object(u.a)(h,2),x=C[0],v=C[1],g=o?o.replace(/^\w/,(function(e){return e.toUpperCase()})):void 0,k=Object(c.useCallback)((function(e){v(e.target.value)}),[]),y=Object(c.useCallback)((function(){s("prompt"!==o||x)}),[s,o,x]),L=Object(c.useCallback)((function(){r()}),[r]);return Object(c.useEffect)((function(){O(a)}),[a]),Object(c.useEffect)((function(){v(n)}),[n]),Object(b.jsxs)(d.a,{isOpen:m,style:{overlay:{backgroundColor:"rgba(0,0,0,.5)"},content:{position:"absolute",width:"250px",height:"min-content",top:"40%",left:"50%",transform:"translate(-50%, -50%)"}},onRequestClose:L,shouldCloseOnOverlayClick:!0,shouldCloseOnEsc:!0,children:[(l||g)&&Object(b.jsx)("header",{children:Object(b.jsx)("h1",{style:{margin:0},children:l||g})}),Object(b.jsxs)("div",{children:[Object(b.jsx)("p",{children:t}),"prompt"===o&&Object(b.jsx)("p",{children:Object(b.jsx)("input",{defaultValue:n,onChange:k})})]}),Object(b.jsx)("button",{onClick:y,children:i}),("prompt"===o||"confirm"===o)&&Object(b.jsx)("button",{onClick:L,children:p})]})},m=function(){return Object(b.jsxs)(b.Fragment,{children:[Object(b.jsxs)(i,{children:[Object(b.jsx)("h1",{children:"Native Dialog"}),Object(b.jsx)(p,{})]}),Object(b.jsx)("hr",{}),Object(b.jsxs)(i,{dialogComponent:j,submitLabel:"Yes",cancelLabel:"No",children:[Object(b.jsx)("h1",{children:"React Dialog"}),Object(b.jsx)(p,{}),Object(b.jsx)("h2",{children:"Custom dialog component"}),Object(b.jsx)(a.a,{language:"jsx",children:"import React, { useState, useCallback, useEffect } from 'react'\nimport ReactModal from 'react-modal'\n\nconst CustomDialog = ({ message, defaultText, type, title, open, onSubmit, onCancel, submitLabel, cancelLabel }) => {\n  ReactModal.setAppElement('#root')\n\n  const [isOpen, setIsOpen] = useState(open)\n  const [value, setValue] = useState(defaultText)\n\n  const change = useCallback((e) => {\n    setValue(e.target.value)\n  }, [])\n\n  const submit = useCallback(() => {\n    onSubmit(type !== 'prompt' || value)\n  }, [onSubmit, type, value])\n\n  const close = useCallback(() => {\n    onCancel()\n  }, [onCancel])\n\n  useEffect(() => {\n    setIsOpen(open)\n  }, [open])\n\n  useEffect(() => {\n    setValue(defaultText)\n  }, [defaultText])\n\n  const renderTitle = () => {\n    const altTitle = type ? type.replace(/^\\w/, (c) => c.toUpperCase()) : undefined\n    if (!title && !altTitle) return\n\n    return <header>{title || altTitle}</header>\n  }\n\n  const isPrompt = type === 'prompt'\n  const hasClose = type === 'prompt' || type === 'confirm'\n\n  return (\n    <ReactModal isOpen={isOpen} style={{ /* ... */ }} onRequestClose={close} shouldCloseOnOverlayClick shouldCloseOnEsc >\n      {renderTitle()}\n      <div>\n        <p>{message}</p>\n        {isPrompt && (\n          <p>\n            <input defaultValue={defaultText} onChange={change} />\n          </p>\n        )}\n      </div>\n      <button onClick={submit}>{submitLabel}</button>\n      {hasClose && (\n        <button onClick={close}>{cancelLabel}</button>\n      )}\n    </ReactModal>\n  )\n}\n\nexport default CustomDialog\n"})]})]})};l.a.render(Object(b.jsx)(m,{}),document.getElementById("root"))},37:function(e,t,n){}},[[252,1,2]]]);
//# sourceMappingURL=main.b6f7403f.chunk.js.map